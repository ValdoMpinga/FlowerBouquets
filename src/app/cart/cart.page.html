<app-side-menu />
<div class="ion-page" id="main-content">
  <ion-header [translucent]="true">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-back-button default-href="/home"></ion-back-button>
        <ion-title>Cart (<span>{{totalCartItems}}</span>)</ion-title>
      </ion-buttons>

      <ion-buttons slot="end">
        <ion-menu-button auto-hide="false">
          <ion-icon class="menu-icon" name="menu"></ion-icon>
        </ion-menu-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <ion-content [fullscreen]="true">
    <div class="loading-spinner" *ngIf="!isDataReady">
      <ion-spinner />
    </div>

    <div *ngIf="isDataReady">
      <ion-header collapse="condense">
        <ion-buttons slot="start">
          <ion-back-button default-href="/home"></ion-back-button>
          <ion-title>Cart (0)</ion-title>
        </ion-buttons>

        <ion-buttons slot="end">
          <ion-menu-button auto-hide="false">
            <ion-icon class="menu-icon" name="menu"></ion-icon>
          </ion-menu-button>
        </ion-buttons>
      </ion-header>

      <div class="items-container">
        <app-cart-item
          *ngFor="let item of filteredCartItems"
          class="cart-item"
          [flowersId]="item.id"
          [flowersImage]="item.image"
          [flowersName]="item.name"
          [flowersPrice]="item.price"
          [flowersQuantity]="item.quantity"
        ></app-cart-item>
      </div>

      <!-- <div class="extras-button-container">
      <ion-button class="extras-button"> Add extras to cart </ion-button>
    </div> -->

      <div class="pickup-clear-cart">
        <ion-select placeholder="Select the pickup location">
          <ion-select-option value="home">At home</ion-select-option>
          <ion-select-option value="store">At the store</ion-select-option>
        </ion-select>

        <ion-button class="clear-cart" (click)="clearCartItems()"> Clear cart </ion-button>
      </div>

      <p>Total: {{totalAmountToPay}}â‚¬</p>

      <div class="pay-button-container">
        <ion-button class="pay-button" (click)="pay()"> Pay </ion-button>
      </div>
    </div>
  </ion-content>
</div>
